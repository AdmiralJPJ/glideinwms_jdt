<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Installation of a scheduler node in the glideinWMS</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
	<META NAME="CREATED" CONTENT="20071113;14435800">
	<META NAME="CHANGED" CONTENT="20081031;13592700">
	<META NAME="CHANGEDBY" CONTENT="Igor Sfiligoi">
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>Installation of a
scheduler node in the glideinWMS </FONT></FONT>
</H1>
<TABLE CELLPADDING=2 CELLSPACING=2>
	<TR>
		<TD VALIGN=TOP>
			<H2><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>1. Description </FONT></FONT>
			</H2>
			<P><FONT FACE="Liberation Serif"><FONT SIZE=3>This node will be a
			<A HREF="http://www.cs.wisc.edu/condor/manual/v7.0/3_1Introduction.html#SECTION00411000000000000000">Condor
			Submit node</A> for the user jobs.<BR>You can install many such
			nodes to improve scalability of your system.</FONT></FONT></P>
			<H2><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>2. Hardware
			requirements </FONT></FONT>
			</H2>
			<P><FONT FACE="Liberation Serif"><FONT SIZE=3>This machine needs <B>a
			reasonably recent CPUs</B> and <B>a large amount of memory</B>
			(min <B>2GB</B>, recommended <B>16GB</B>, <B>~1.5MB per running
			job</B>).<BR>The amount of <B>disk</B> needed <B>depends on the
			user jobs</B>; Condor itself uses very little (5 GB should be
			enough for Condor alone)</FONT></FONT></P>
			<H2><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>3. Needed
			software </FONT></FONT>
			</H2>
			<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Any <A HREF="http://www.cs.wisc.edu/condor/manual/v7.0/1_5Availability.html">Condor-supported
			OS</A>.<BR>The <A HREF="https://twiki.grid.iu.edu/twiki/bin/view/Documentation/WebHome">OSG
			client software</A>.<BR>The <A HREF="http://www.cs.wisc.edu/condor/downloads/">Condor
			distribution</A>.</FONT></FONT></P>
		</TD>
		<TD>
			<P><IMG SRC="overview_schedd.png" NAME="graphics1" ALIGN=BOTTOM WIDTH=359 HEIGHT=213 BORDER=0>
						</P>
		</TD>
	</TR>
</TABLE>
<H2><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>4. Installation
instructions </FONT></FONT>
</H2>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>The scheduler node
software should be installed as root. The whole process is managed by
a install script described below. </FONT></FONT>
</P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Move into</FONT></FONT></P>
<BLOCKQUOTE><FONT FACE="Liberation Serif"><FONT SIZE=3>glideinWMS/install</FONT></FONT></BLOCKQUOTE>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>and execute</FONT></FONT></P>
<BLOCKQUOTE><FONT FACE="Liberation Serif"><FONT SIZE=3>./glideinWMS_install</FONT></FONT></BLOCKQUOTE>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>You will be presented
with this screen:</FONT></FONT></P>
<BLOCKQUOTE><FONT FACE="Liberation Serif"><FONT SIZE=3>What do you
want to install?<BR>(May select several options at one, using a ,
separated list)<BR>[1] glideinWMS Collector<BR>[2] Glidein
Factory<BR>[3] GCB<BR>[4] pool Collector<BR>[5] Schedd node<BR>[6]
Condor for VO Frontend<BR>[7] VO Frontend<BR>[8] Components</FONT></FONT></BLOCKQUOTE>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Select <B>5</B>.</FONT></FONT></P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Now follow the
instructions and install all the software components.</FONT></FONT></P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Most of the questions
should be fairly straightforward (see an example installation
snapshot in <A HREF="schedd_root_install_snapshot.txt">schedd_root_install_snapshot.txt</A>).</FONT></FONT></P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>The configuration of
the GSI security is not completely automatic. You will need to
specify the DNs of the glidein pool collector, the VO frontend and
the glidein proxy. See <A HREF="gsi_config.html">Configuring GSI
security in Condor</A> for more details. </FONT></FONT>
</P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>You will also need to
specify the GCB nodes.</FONT></FONT></P>
<H3><FONT FACE="Verdana"><FONT SIZE=3>4.1 Example config files </FONT></FONT>
</H3>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>You can find example
Condor config files
in<BR><A HREF="example-config/glide-schedd/mymachine/condor_config">example-config/glide-schedd/mymachine/condor_config</A><BR>and<BR><A HREF="example-config/glide-schedd/mymachine/condor_config.local">example-config/glide-schedd/mymachine/condor_config.local</A>.</FONT></FONT></P>
<H2><FONT FACE="Bitstream Vera Serif"><FONT SIZE=4>5. Submitting user
jobs </FONT></FONT>
</H2>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>From the user point of
view, this is just a regular Condor pool.<BR><BR>However, since the
resources potentially come from all over the world, users need to
create more complex <B>Requirements</B>, in order to prevent the jobs
from landing on sites that cannot run their jobs.<BR>Users will need
to know which attributes the glideins publish and use them
accordingly.</FONT></FONT></P>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3><BR>One useful
attribute that all glideins publish is GLIDEIN_Site. If a user wants
to restrict its job to a list of sites, he can do it be using:</FONT></FONT></P>
<BLOCKQUOTE><FONT FACE="Liberation Serif"><FONT SIZE=3>+DESIRED_Sites
= &quot;Site1,Site4,Site7,Site22&quot;<BR>Requirements =
stringListMember(GLIDEIN_Site,DESIRED_Sites)</FONT></FONT></BLOCKQUOTE>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>Some glideins may also
need to properly identify the final user, using GSI authentication. A
user should thus add the following line:</FONT></FONT></P>
<BLOCKQUOTE><FONT FACE="Liberation Serif"><FONT SIZE=3>x509userproxy
= <I>&lt;path to X509 proxy&gt;</I></FONT></FONT></BLOCKQUOTE>
<P><FONT FACE="Liberation Serif"><FONT SIZE=3>to their Condor
submission file.</FONT></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<HR SIZE=1>
<P><A HREF="index.html"><FONT FACE="Liberation Serif"><FONT SIZE=3>Back
to the index</FONT></FONT></A></P>
</BODY>
</HTML>